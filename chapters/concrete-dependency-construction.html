
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>64. Concrete dependency construction &#8212; The Object Oriented Way</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="65. Concrete dependency injection" href="concrete-dependency-injection.html" />
    <link rel="prev" title="63. Object composition" href="object-composition.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-V69WNXD095"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-V69WNXD095');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">The Object Oriented Way</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Introduction
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="sets.html">
   1. ðŸŸ¢ Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="functions.html">
   2. ðŸŸ¢ Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="algorithms.html">
   3. ðŸŸ  Algorithms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="computation.html">
   4. ðŸŸ  Computation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="terminals.html">
   5. Terminals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="syntax.html">
   6. ðŸŸ¢ Syntax
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="semantics.html">
   7. ðŸŸ¢ Semantics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="compilation.html">
   8. ðŸŸ¢ Compilation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="execution.html">
   9. ðŸŸ¢ Execution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="interpretation.html">
   10. ðŸŸ¢ Interpretation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="errors.html">
   11. ðŸŸ¢ Errors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="documentation.html">
   12. Documentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="comments.html">
   13. ðŸŸ¢ Comments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="standard-out.html">
   14. Standard out
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="values.html">
   15. ðŸŸ¢ Values
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="variables.html">
   16. ðŸŸ¢ Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="standard-in.html">
   17. Standard in
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="indentation.html">
   18. Indentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="statements.html">
   19. Statements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="expressions.html">
   20. Expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="operators.html">
   21. Operators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-types.html">
   22. ðŸŸ¢ Data types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="selection.html">
   23. Selection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="paradigms.html">
   24. Paradigms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="type-conversions.html">
   25. Type conversions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="type-checking.html">
   26. ðŸŸ¢ Type-checking
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="type-systems.html">
   27. ðŸŸ¢ Type systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nothingness.html">
   28. ðŸŸ¢ Nothingness
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="type-hierarchies.html">
   29. Type hierarchies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="abstraction.html">
   30. Abstraction / Modeling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="indirection.html">
   31. Indirection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="business-logic.html">
   32. Business logic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="debugging.html">
   33. Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="arrays.html">
   34. Arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="syntactic-sugar.html">
   35. Syntactic sugar
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="iteration.html">
   36. Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="command-line-arguments.html">
   37. Command line arguments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mutability.html">
   38. Mutability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="type-testing.html">
   39. Type testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="value-and-reference-semantics.html">
   40. Value and reference semantics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="simple-types.html">
   41. Simple types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="static-methods.html">
   42. Static methods (procedures)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="purity.html">
   43. Purity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="static-classes.html">
   44. Static classes (Modules)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-structures.html">
   45. Data structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="composition.html">
   46. Composition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="overloading.html">
   47. Overloading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="recursion.html">
   48. Recursion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scope.html">
   49. Scope
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="namespaces.html">
   50. Namespaces
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="basic-exceptions.html">
   51. Exceptions (part 1)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="stack-traces.html">
   52. Stack traces
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pillars.html">
   53. Pillars
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="objects.html">
   54. ðŸŸ  Objects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="classes.html">
   55. Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fields.html">
   56. Fields
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="constructors.html">
   57. Constructors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="instance-methods.html">
   58. ðŸŸ  Instance methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="type-signatures.html">
   59. Type signatures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="instance-variables.html">
   60. Instance variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="basic-access-modifiers.html">
   61. Access modifiers (basic).
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="properties.html">
   62. Properties
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="object-composition.html">
   63. ðŸŸ  Object composition
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   64. ðŸŸ¢ Concrete dependency construction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="concrete-dependency-injection.html">
   65. ðŸŸ¢ Concrete dependency injection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="immutable-objects.html">
   66. Immutable objects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="interfaces.html">
   67. Interfaces
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="subtype-polymorphism.html">
   68. Subtype polymorphism
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inheritance.html">
   69. Inheritance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="overriding.html">
   70. Overriding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hiding.html">
   71. Hiding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="advanced-access-modifiers.html">
   72. Access modifiers (advanced)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="object-type-conversions.html">
   73. Type conversions (of objects)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="abstract-dependency-construction.html">
   74. Abstract dependency construction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="abstract-dependency-injection.html">
   75. Abstract dependency injection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="advanced-exceptions.html">
   76. Advanced exceptions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="prototypes.html">
   77. Prototypes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="base-class-library.html">
   78. Base class library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="boxing.html">
   79. Boxing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="structure-types.html">
   80. Structure types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="anonymous-types.html">
   81. Anonymous types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="generics.html">
   82. Generics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="variance.html">
   83. Variance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="business-objects.html">
   84. Business objects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="requirements.html">
   85. Requirements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="correctness.html">
   86. Correctness
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="maintainability.html">
   87. Maintainability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="code-smells.html">
   88. Code smells and anti-patterns
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="coupling.html">
   89. Coupling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cohesion.html">
   90. Cohesion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="refactoring.html">
   91. Refactoring
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="design-principles.html">
   92. Design principles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="single-responsibility-principle.html">
   93. Single responsibility principle
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="interface-segregation-principle.html">
   94. Interface segregation principle
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="deep-classes.html">
   95. Deep classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="types-over-tests.html">
   96. Types over tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="define-errors-out-of-existence.html">
   97. Define errors out of existence
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="liskov-substitution-principle.html">
   98. Liskov substitution principle
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="open-closed-principle.html">
   99. Open-closed principle
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dependency-inversion-principle.html">
   100. Dependency inversion principle
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="composition-over-inheritance.html">
   101. Composition over inheritance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="documentation-driven-development.html">
   102. Documentation-driven development
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="design-patterns.html">
   103. Design patterns
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="strategy-pattern.html">
   104. Strategy pattern
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="delegates.html">
   105. Delegates
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension-methods.html">
   106. Extension methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="null-object-pattern.html">
   107. Null object pattern
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="adapter-pattern.html">
   108. Adapter pattern
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bridge-pattern.html">
   109. Bridge pattern
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lambdas.html">
   110. Lambdas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="abstract-factory-pattern.html">
   111. Abstract factory pattern
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="iterator-pattern.html">
   112. Iterator pattern
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="enumerators.html">
   113. Enumerators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="indexers.html">
   114. Indexers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linq.html">
   115. LINQ
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="observer-pattern.html">
   116. Observer pattern
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="events.html">
   117. Events
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="visitor-pattern.html">
   118. Visitor pattern
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pattern-matching.html">
   119. Pattern matching
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="reading.html">
   120. Suggested reading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bibliography.html">
   121. Bibliography
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/chrokh/the-oo-way/issues/new?title=Issue%20on%20page%20%2Fchapters/concrete-dependency-construction.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/chapters/concrete-dependency-construction.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#constructing-the-dependency">
   64.1. Constructing the dependency
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parameterizing-the-dependency">
   64.2. Parameterizing the dependency
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Concrete dependency construction</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#constructing-the-dependency">
   64.1. Constructing the dependency
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parameterizing-the-dependency">
   64.2. Parameterizing the dependency
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="concrete-dependency-construction">
<h1><span class="section-number">64. </span>Concrete dependency construction<a class="headerlink" href="#concrete-dependency-construction" title="Permalink to this headline">#</a></h1>
<p>In this chapter weâ€™re going to explore level 1 object composition based on the, previously outlined, <a class="reference internal" href="object-composition.html#abstraction-levels"><span class="std std-ref">object composition abstraction levels</span></a>.</p>
<p>In procedural programming, as weâ€™ve already seen, we solve problems by <a class="reference internal" href="composition.html#composition"><span class="std std-ref">composing procedures</span></a>.
If a method calls another method then weâ€™ve composed the two methods
You might recall that we said that this form of composition is significantly less powerful than what in function programming is known as function composition.
Concrete dependency construction, which weâ€™re talking about right now, is essentially the equivalent to procedure composition.
The only difference is that we <span class="xref myst">encapsulate</span> our procedures in objects.</p>
<section id="constructing-the-dependency">
<h2><span class="section-number">64.1. </span>Constructing the dependency<a class="headerlink" href="#constructing-the-dependency" title="Permalink to this headline">#</a></h2>
<p>Remember how we composed two static methods to enable us to encode strings into the Robberâ€™s language in the chapter on <a class="reference internal" href="composition.html#composition"><span class="std std-ref">procedure composition</span></a>?
Letâ€™s do that again, but using objects.
Letâ€™s decompose the main problem into the two same sub-problems as before.</p>
<ol class="simple">
<li><p>Encoding a whole <code class="docutils literal notranslate"><span class="pre">string</span></code> by delegating the encoding of each individual character one-by-one to someone else who knows how to encode individual characters.</p></li>
<li><p>Encoding an individual character (<code class="docutils literal notranslate"><span class="pre">char</span></code>).</p></li>
</ol>
<p>Letâ€™s build two classes to solve these problems and letâ€™s call them <code class="docutils literal notranslate"><span class="pre">RobbersStringCipher</span></code> and <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">RobbersStringCipher</span></code> is responsible for encoding a whole <code class="docutils literal notranslate"><span class="pre">string</span></code> of characters into the robberâ€™s language by delegating to the <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code> who knows how to encode any single character.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">RobbersStringCipher</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="nf">Encode</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">RobbersCharCipher</span><span class="w"> </span><span class="n">charCipher</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RobbersCharCipher</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">output</span><span class="w"> </span><span class="p">+=</span><span class="w"> </span><span class="n">charCipher</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="n">c</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">output</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">RobbersCharCipher</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="nf">Encode</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="n">consonants</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;bcdfghjklmnpqrstvwxz&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">consonants</span><span class="p">.</span><span class="n">IndexOf</span><span class="p">(</span><span class="n">Char</span><span class="p">.</span><span class="n">ToLower</span><span class="p">(</span><span class="n">input</span><span class="p">))</span><span class="w"> </span><span class="p">!=</span><span class="w"> </span><span class="p">-</span><span class="m">1</span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="s">$&quot;{input}o{input}&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">else</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Letâ€™s try these classes out by using them in a small program.
We simply instantiate <code class="docutils literal notranslate"><span class="pre">RobbersStringCipher</span></code> and call the method <code class="docutils literal notranslate"><span class="pre">Encode</span></code> on the instance and send it a <code class="docutils literal notranslate"><span class="pre">string</span></code> upon each call.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="w"> </span><span class="n">cipher</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RobbersStringCipher</span><span class="p">();</span><span class="w"></span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cipher</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">));</span><span class="w"></span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cipher</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;Chris&quot;</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">HoHelollolo wowororloldod</span>
<span class="go">CoChohrorisos</span>
</pre></div>
</div>
<p>This is an example of concrete dependency construction.
Letâ€™s break that statement apart.</p>
<ol class="simple">
<li><p>The object composition is <strong>constructed</strong> because the <code class="docutils literal notranslate"><span class="pre">RobbersStringCipher</span></code> is itself <strong>instantiating</strong> its dependency, namely the <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code>.  Specifically we are talking about the line that reads: <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span> <span class="pre">charCipher</span> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">RobbersCharCipher();</span></code>.</p></li>
<li><p>The object composition is <strong>concrete</strong> since the compile-time type of the composed object is a concrete type. In this case the type is <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code>.</p></li>
</ol>
<p>But wait a minute, you might ask.
Arenâ€™t all types concrete?
Whatâ€™s an example of a non-concrete type?
Well, hold your horses my friend.
We havenâ€™t talked about object oriented abstractions yet but weâ€™ll get there very soon.
To understand what an abstract dependency is we must first understand
<a class="reference internal" href="interfaces.html#interfaces"><span class="std std-ref">interfaces</span></a>,
<a class="reference internal" href="inheritance.html#inheritance"><span class="std std-ref">inheritance</span></a>,
and <a class="reference internal" href="subtype-polymorphism.html#subtype-polymorphism"><span class="std std-ref">subtype polymorphism</span></a>.
So letâ€™s take it one step at a time, and stick to concrete dependency construction for now.</p>
<div class="exercise admonition" id="ex:concrete-dependency-construction-caesar-cipher">

<p class="admonition-title"><span class="caption-number">Exercise 64.1 </span></p>
<section id="exercise-content">
<p>Remember the Caesar cipher in <a class="reference internal" href="composition.html#ex:method-composition-caesar-cipher-1"><span class="std std-numref">Exercise 46.1</span></a> from the chapter on method composition?
Rewrite the code so that it uses concrete dependency construction instead of method composition.
Weâ€™ll worry about parameterizing the Caesar cipher to an arbitrary number of steps later, so hard-code your solution to one step for now.</p>
<p><em>Hint: Have a look at the Robbers cipher code above and see if you can rewrite the code and instead of use two classes called <code class="docutils literal notranslate"><span class="pre">CaesarStringCipher</span></code> and <code class="docutils literal notranslate"><span class="pre">CaesarCharCipher</span></code>.</em></p>
<p>The program should behave like this:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="w"> </span><span class="n">cipher</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CaesarStringCipher</span><span class="p">();</span><span class="w"></span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cipher</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;AbCz&quot;</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">BcDa</span>
</pre></div>
</div>
</section>
</div>
</section>
<section id="parameterizing-the-dependency">
<h2><span class="section-number">64.2. </span>Parameterizing the dependency<a class="headerlink" href="#parameterizing-the-dependency" title="Permalink to this headline">#</a></h2>
<p>The astute reader might however have noticed that in the chapter on <a class="reference internal" href="composition.html#composition"><span class="std std-ref">method composition</span></a>, we actually parameterized the character cipher of our Robberâ€™s language implementation so that we could choose which character to stick between consonants.
Letâ€™s parameterize <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code> in the same way to make sure that we havenâ€™t lost any of the flexibility of our code:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">RobbersCharCipher</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">vowel</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">RobbersCharCipher</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">vowel</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">vowel</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">vowel</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="nf">Encode</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="n">consonants</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;bcdfghjklmnpqrstvwxz&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">consonants</span><span class="p">.</span><span class="n">IndexOf</span><span class="p">(</span><span class="n">Char</span><span class="p">.</span><span class="n">ToLower</span><span class="p">(</span><span class="n">input</span><span class="p">))</span><span class="w"> </span><span class="p">!=</span><span class="w"> </span><span class="p">-</span><span class="m">1</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="s">$&quot;{input}{vowel}{input}&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">else</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>If we however try to compile our code now without first changing <code class="docutils literal notranslate"><span class="pre">RobbersStringCipher</span></code> we will of course get the following error:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">error CS7036: There is no argument given that corresponds to the required formal parameter &#39;vowel&#39; of &#39;RobbersCharCipher.RobbersCharCipher(char)&#39;</span>
</pre></div>
</div>
<p>Why did I show you this error?
Because, herein lies the problem of concrete dependency construction.
Whenever we change the constructor of <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code> we will also have to change <code class="docutils literal notranslate"><span class="pre">RobberStringCipher</span></code> since it calls the constructor.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The danger of concrete dependency construction is that whenever the constructor of the composed object changes, the composer must also change.</p>
</div>
<p>Ok, so the change ripples into <code class="docutils literal notranslate"><span class="pre">RobbersStringCipher</span></code> but what do we need to change?
Well, we just need to change the line that instantiates the <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code>.
We need to change <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">RobbersCharCipher()</span></code> toâ€¦ wellâ€¦ what do we need to change it to?
If we say <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">RobbersCharCipher('o')</span></code> then weâ€™re hard-coded our cipher to the vowel <code class="docutils literal notranslate"><span class="pre">'o'</span></code>.
Weâ€™re back in the same situation as before where the user of our class is unable to change the vowel without changing the class itself.
You cannot change the vowel at run-time, only at compile-time.
Surely, object oriented programming cannot force us to be <em>less</em> flexible, right?</p>
<p>Well, remember how we said that concrete dependency construction is like the object oriented equivalent of method composition?
It is no more powerful and no more flexible.
Weâ€™ve merely wrapped our logic in objects and instance methods instead of static methods.
With that said, remember how we solved this problem in the method on <a class="reference internal" href="composition.html#composition"><span class="std std-ref">method composition</span></a>?
We solved it by duplicating the parameterization.
If our dependency is parameterized and we want to propagate that parameterization then we must parameterize ourselves.</p>
<div class="tip admonition">
<p class="admonition-title">Design principle</p>
<p>Donâ€™t repeat yourself. (DRY)</p>
</div>
<p>The string cipher would have to look something like this:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">RobbersStringCipher</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">RobbersCharCipher</span><span class="w"> </span><span class="n">charCipher</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">RobbersStringCipher</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">vowel</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">charCipher</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RobbersCharCipher</span><span class="p">(</span><span class="n">vowel</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="nf">Encode</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">output</span><span class="w"> </span><span class="p">+=</span><span class="w"> </span><span class="n">charCipher</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="n">c</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">output</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Notice how the vowel is now an argument in the constructor and how weâ€™re immediately passing the vowel on to the construction of the <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code>.
This works, but the fact that weâ€™re immediately passing some piece of data further is a tell-tale sign that weâ€™re doing something fishy.
We would use it like this:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="w"> </span><span class="n">cipher1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RobbersStringCipher</span><span class="p">(</span><span class="sc">&#39;o&#39;</span><span class="p">);</span><span class="w"></span>
<span class="kt">var</span><span class="w"> </span><span class="n">cipher2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RobbersStringCipher</span><span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">);</span><span class="w"></span>

<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cipher1</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;Bob&quot;</span><span class="p">));</span><span class="w"></span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cipher2</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;Bob&quot;</span><span class="p">));</span><span class="w"></span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cipher1</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;Lol&quot;</span><span class="p">));</span><span class="w"></span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cipher2</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;Lol&quot;</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">BoBobob</span>
<span class="go">BaBobab</span>
<span class="go">LoLolol</span>
<span class="go">LaLolal</span>
</pre></div>
</div>
<p>But whatâ€™s the problem with this code?
Why do we say that itâ€™s a warning sign that weâ€™re immediately passing the vowel on to someone else?
Well weâ€™re merely treating the symptom, not the cause.
The problem is still the same as before.</p>
<p>If we want to change the constructor of <code class="docutils literal notranslate"><span class="pre">RobbersCharCipher</span></code> we will almost certainly also have to change <code class="docutils literal notranslate"><span class="pre">RobbersStringCipher</span></code>.
We say that the change â€œripplesâ€ through the system.
This is really bad for <a class="reference internal" href="maintainability.html#maintainability"><span class="std std-ref">maintainability</span></a>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>When thinking about whether something is a good or bad design decision we should ask ourselves if we take our current practice to the extreme.
What happens if I design my whole system like this?
What happens if I compose ten objects like this?
Weâ€™ll talk more about design in the chapter on <a class="reference internal" href="maintainability.html#maintainability"><span class="std std-ref">maintainability</span></a> and its related chapters.</p>
</div>
<p>What happens if I have a class that instantiates a class, that instantiates a class, that instantiates a class, that instantiates a class, and so forthâ€¦
Well, if all the constructors have parameters and we want to expose all parameters then we will have expose all parameters of all the constructors in the constructor of the outermost class.
This is bizarre and a nightmare to maintain.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>If you use concrete dependency construction all the way down, the you have to sum the number of constructor arguments all the way up.</p>
</div>
<p>So, hopefully that settles it.
Concrete dependency construction should be used with caution.
Letâ€™s talk about better forms of object composition.</p>
<div class="exercise admonition" id="chapters/concrete-dependency-construction-exercise-1">

<p class="admonition-title"><span class="caption-number">Exercise 64.2 </span></p>
<section id="exercise-content">
<p>What is direct object composition of a concrete dependency?
Give your own example and explain it in your own words.</p>
</section>
</div>
<div class="exercise admonition" id="chapters/concrete-dependency-construction-exercise-2">

<p class="admonition-title"><span class="caption-number">Exercise 64.3 </span></p>
<section id="exercise-content">
<p>Why is concrete dependency construction problematic?</p>
<p><em>Hint: Constructor arguments.</em></p>
</section>
</div>
<div class="exercise admonition" id="ex:concrete-dependency-construction-parameterized-caesar-cipher">

<p class="admonition-title"><span class="caption-number">Exercise 64.4 </span></p>
<section id="exercise-content">
<p>Start from the code you built in <a class="reference internal" href="#ex:concrete-dependency-construction-caesar-cipher"><span class="std std-numref">Exercise 64.1</span></a>.</p>
<ol class="simple">
<li><p>Add a constructor parameter to <code class="docutils literal notranslate"><span class="pre">CaesarCharCipher</span></code> so that you can choose the number of steps to â€œmoveâ€ when encoding.</p></li>
<li><p>Add a constructor parameter to <code class="docutils literal notranslate"><span class="pre">CaesarStringCipher</span></code> so that we can choose what number to send to the constructor of <code class="docutils literal notranslate"><span class="pre">CaesarCharCipher</span></code>.</p></li>
<li><p>Make sure the program behaves according to the usage example below:</p></li>
</ol>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="w"> </span><span class="n">threeStepsForward</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CaesarStringCipher</span><span class="p">(</span><span class="m">3</span><span class="p">);</span><span class="w"></span>
<span class="kt">var</span><span class="w"> </span><span class="n">twoStepsBackwards</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CaesarStringCipher</span><span class="p">(-</span><span class="m">2</span><span class="p">);</span><span class="w"></span>

<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">threeStepsForward</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;aB&quot;</span><span class="p">));</span><span class="w"></span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">twoStepsBackwards</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;aB&quot;</span><span class="p">));</span><span class="w"></span>

<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">threeStepsForward</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;Yz&quot;</span><span class="p">));</span><span class="w"></span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">twoStepsBackwards</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="s">&quot;Yz&quot;</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">dE</span>
<span class="go">yZ</span>
<span class="go">Bc</span>
<span class="go">Wx</span>
</pre></div>
</div>
</section>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="object-composition.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">63. </span>Object composition</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="concrete-dependency-injection.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">65. </span>Concrete dependency injection</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Christopher Okhravi<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>